def add_stock_for_p1_d100():
    conn = psycopg2.connect(
        host="localhost",
        database="postgres",
        user="postgres",
        password="Root@2024"
    )

    try:
        conn.set_isolation_level(3)
        conn.autocommit = False
        cur = conn.cursor()

        # Transaction 4: Add (P1, D100, 100) in Stock
        cur.execute("""
            INSERT INTO stock (prodid, depid, quantity) 
            VALUES ('p1', 'D100', 100)
            ON CONFLICT (prodid, depid) DO NOTHING
        """)

        # Commit the transaction
        conn.commit()
        print("Stock for Product P1 added in Depot D100.")

    except (Exception, psycopg2.DatabaseError) as error:
        print("Error occurred:", error)
        conn.rollback()

    finally:
        cur.close()
        conn.close()
        print("PostgreSQL connection closed.")

add_stock_for_p1_d100()
